{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\programaci\\xF3n\\\\VacunAssistIS2\\\\Vacunassist\\\\src\\\\components\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport { useAuth } from \"../context/AuthContext\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { collection, getDocs, getDoc, deleteDoc, doc, updateDoc } from 'firebase/firestore';\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Home() {\n  _s();\n\n  const {\n    user,\n    logout,\n    loading\n  } = useAuth();\n\n  const handleLogout = async () => {\n    await logout();\n  };\n\n  const handleChange = _ref => {\n    let {\n      target: {\n        name,\n        value\n      }\n    } = _ref;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const update = async e => {\n    //e es un evento\n    e.preventDefault(); //para evitar comportamiento por defecto\n\n    const product = doc(db, \"products\", id); //traemos todos los datos a product\n\n    const data = {\n      description: description,\n      stock: stock\n    }; //obtenemos data\n\n    const userRef = doc(db, `Persona/${user.email}`);\n    const snapshot = await getDoc(userRef); //console.log(snapshot.data().user.clave)\n\n    await updateDoc(product, data); //la data son los datos actualizados, updateDoc es de firestore, para actualizar los datos\n\n    navigate('/'); //vamos a show\n  };\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"loading\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-xs m-auto text-black\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-x1 mb-4\",\n        children: [\"Bienvenido \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: update,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: description,\n            onChange: e => setDescription(e.target.value),\n            type: \"text\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: stock,\n            onChange: e => setStock(e.target.value),\n            type: \"text\",\n            className: \"form-control\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-slate-200 hover:bg-slate-300 rounded py-2 px-4 text-black\",\n        onClick: handleLogout,\n        children: \"logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Home, \"DtDalwzK1DIdaSh7eEAMQ+YYesQ=\", false, function () {\n  return [useAuth];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useAuth","React","useState","useEffect","Link","collection","getDocs","getDoc","deleteDoc","doc","updateDoc","db","Home","user","logout","loading","handleLogout","handleChange","target","name","value","setUser","update","e","preventDefault","product","id","data","description","stock","userRef","email","snapshot","navigate","setDescription","setStock"],"sources":["C:/Users/PC/Desktop/programaciÃ³n/VacunAssistIS2/Vacunassist/src/components/Home.js"],"sourcesContent":["import { useAuth } from \"../context/AuthContext\";\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {collection, getDocs, getDoc, deleteDoc, doc, updateDoc} from 'firebase/firestore'\r\nimport { db } from \"../firebase\";\r\n\r\nexport function Home(){\r\n    const {user, logout, loading} = useAuth();\r\n\r\n    const handleLogout = async () => {\r\n        await logout();\r\n    }\r\n    const handleChange = ({target: {name, value}}) => {\r\n        setUser({...user, [name]: value});\r\n    };\r\n    const update = async (e) => { //e es un evento\r\n        e.preventDefault() //para evitar comportamiento por defecto\r\n        const product= doc(db, \"products\", id) //traemos todos los datos a product\r\n        const data= {description: description, stock: stock} //obtenemos data\r\n        const userRef = doc(db,`Persona/${user.email}`)\r\n        const snapshot = await getDoc(userRef)\r\n        //console.log(snapshot.data().user.clave)\r\n        await updateDoc(product, data) //la data son los datos actualizados, updateDoc es de firestore, para actualizar los datos\r\n        navigate('/') //vamos a show\r\n    }\r\n\r\n        \r\n    \r\n    if(loading) return <h1>loading</h1>\r\n\r\n    return  <div className=\"w-full max-w-xs m-auto text-black\">\r\n                <div className=\"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4\">\r\n                    <h1 className=\"text-x1 mb-4\">Bienvenido {user.email}</h1>\r\n                    <form onSubmit={update}>\r\n                    <div className='mb-3'>\r\n                        <label className='form-label'>Description</label>\r\n                        <input\r\n                            value={description}\r\n                            onChange={(e) => setDescription(e.target.value)}\r\n                            type=\"text\"\r\n                            className='form-control'\r\n                        />    \r\n                    </div>\r\n                    <div className='mb-3'>\r\n                        <label className='form-label'>Stock</label>\r\n                        <input\r\n                            value={stock}\r\n                            onChange={(e) => setStock(e.target.value)}\r\n                            type=\"text\"\r\n                            className='form-control'\r\n                        />    \r\n                    </div>\r\n                    <button type='submit' className='btn btn-primary'>update</button>\r\n                </form>\r\n\r\n                    <button className=\"bg-slate-200 hover:bg-slate-300 rounded py-2 px-4 text-black\" onClick={handleLogout}>logout</button>\r\n                </div>\r\n            </div>;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}