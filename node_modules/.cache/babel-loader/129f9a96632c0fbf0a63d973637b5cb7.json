{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leand\\\\Desktop\\\\Proyectos\\\\Vacunassist\\\\src\\\\components\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Register from \"./Register\";\nimport Cargar from \"./Cargar\";\nimport { useNavigate } from 'react-router-dom';\nimport { createUserDocument } from \"../firebase\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { useAuth } from \"../context/AuthContext\";\nimport { Alert } from \"./Alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nexport function Form() {\n  _s();\n\n  const [page, setPage] = useState(0);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\",\n    LastName: \"\",\n    birthDate: \"\",\n    DNI: \"\",\n    zone: \"\",\n    riskFactor: \"\",\n    doseAmountCovid: \"\",\n    hasVaccineFlu: \"\",\n    vaccinationDateFlu: \"\",\n    hasYellowFever: \"\",\n    doseYearYellowFever: \"\",\n    turnCovid: \"\",\n    turnFlu: \"\",\n    turnYellowFever: \"\"\n  });\n  const [user, setUser] = useState({\n    email: '',\n    password: '',\n    name: '',\n    birthDate: '',\n    LastName: '',\n    DNI: '',\n    key: '',\n    zone: '',\n    riskFactor: '',\n    doseAmountCovid: '',\n    hasVaccineFlu: '',\n    vaccinationDateFlu: '',\n    hasYellowFever: false,\n    doseYearYellowFever: '',\n    turnCovid: '',\n    turnFlu: '',\n    turnYellowFever: ''\n  });\n  const FormTitles = [\"Registro\", \"Datos importantes\"];\n\n  const PageDisplay = () => {\n    if (page === 0) {\n      return /*#__PURE__*/_jsxDEV(Register, {\n        user: user,\n        setUser: setUser,\n        formData: formData,\n        setFormData: setFormData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Cargar, {\n        user: user,\n        setUser: setUser,\n        formData: formData,\n        setFormData: setFormData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  const {\n    signup\n  } = useAuth();\n  const [error, setError] = useState();\n  const navigate = useNavigate();\n\n  function calculoDeEdad(BirthDate) {\n    let hoy = new Date();\n    console.log(hoy);\n    let cumpleanios = new Date(BirthDate);\n    console.log(BirthDate);\n    let edad = hoy.getFullYear() - cumpleanios.getFullYear();\n    let m = hoy.getMonth() - cumpleanios.getMonth();\n\n    if (m < 0 || m === 0 && hoy.getDate() < cumpleanios.getDate()) {\n      //aca no seria m==0 en vez de m===0 ???\n      edad--;\n    }\n\n    console.log(edad);\n    return edad;\n  }\n\n  function calculoGripe(vaccinationDateFlu) {\n    //esta funcion es igual a la de calculo de edad pero weno\n    let hoy = new Date();\n    let ultimaVacGripe = new Date(vaccinationDateFlu);\n    let años = hoy.getFullYear() - ultimaVacGripe.getFullYear();\n    let m = hoy.getMonth() - ultimaVacGripe.getMonth();\n\n    if (m < 0 || m === 0 && hoy.getDate() < ultimaVacGripe.getDate()) {\n      //aca no seria m==0 en vez de m===0 ???\n      años--;\n    }\n\n    return años;\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      await createUserDocument(user);\n      let boolCovid = false;\n      let boolFlu = false;\n\n      if (calculoDeEdad(user.birthDate) > 60) {\n        if (user.doseAmountCovid < 2) {\n          boolCovid = true; //AUTOMATICO, DE RIESGO = MAYOR DE 60, CON MENOS DE 2 DOSIS\n        }\n      } else {\n        if (user.riskFactor === \"true\") {\n          if (user.doseAmountCovid < 2) {\n            boolCovid = true; //AUTOMATICO, DE RIESGO = MENOR DE 60, PERO CON FACTORES DE RIESGO Y MENOS DE 2 DOSIS\n          }\n        } else {\n          if (user.doseAmountCovid < 2) {\n            boolCovid = true; //MANUAL, NO ES DE RIESGO = MENOR DE 60, MENOS DE 2 DOSIS\n          }\n        }\n      } //VACUNA GRIPE \n\n\n      if (user.hasVaccineFlu === \"false\") {\n        //MIRAR CASO DE SI TIENE +60 AÑOS, SIN VACUNA, Y CON VACUNA VENCIDA, ESTO EN FIREBASE.JS\n        boolFlu = true; //AUTOMATICO, NO TIENE VACUNA GRIPE\n      } else {\n        if (calculoGripe(user.vaccinationDateFlu)) {\n          boolFlu = true; //AUTOMATICO, TIENE VACUNA GRIPE VENCIDA\n        }\n      } //AVISOS \n\n\n      if (boolCovid && boolFlu) {\n        alert(\"Se le asigno una vacuna para el covid y para la gripe\");\n      } else if (boolCovid) {\n        alert(\"Se le asigno una vacuna para el covid\");\n      } else if (boolFlu) {\n        alert(\"Se le asigno una vacuna para la gripe\");\n      }\n\n      navigate('/');\n    } catch (error) {\n      if (error.code === \"auth/weak-password\") {\n        setError(\"Contraseña debil, deberia tener al menos 6 caracteres\");\n      }\n\n      setError(error.message);\n    }\n  };\n\n  const handleCreateUserAuth = async () => {\n    setError('');\n\n    try {\n      if (user.DNI === \"000000\") {\n        MySwal.fire(`DNI INVALIDO`);\n        throw error;\n      }\n\n      await signup(user.email, user.password);\n      let numero = Math.floor(Math.random() * 10000);\n\n      while (numero < 1000 || numero > 10000) {\n        numero = Math.floor(Math.random() * 10000);\n      }\n\n      user.key = numero;\n      MySwal.fire(`Su codigo de validación es: ${user.key}, por favor, anotelo`);\n      setPage(currPage => currPage + 1);\n    } catch (error) {\n      if (error.code === \"auth/weak-password\") {\n        setError(\"Contraseña debil, deberia tener al menos 6 caracteres\");\n      }\n\n      setError(error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      message: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: FormTitles[page]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"body\",\n          children: PageDisplay()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: page === 0,\n            onClick: () => {\n              setPage(currPage => currPage - 1);\n            },\n            children: page === FormTitles.length - 1 ? \"Volver\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (page === FormTitles.length - 1) {\n                console.log(user);\n              } else {\n                handleCreateUserAuth();\n              }\n\n              ;\n            },\n            children: page === FormTitles.length - 1 ? \"Registrate\" : \"Próxima hoja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"wRgrWJ2wtn+Q2Y4EstlFEVLDNUA=\", false, function () {\n  return [useAuth, useNavigate];\n});\n\n_c2 = Form;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MySwal\");\n$RefreshReg$(_c2, \"Form\");","map":{"version":3,"names":["React","useState","Register","Cargar","useNavigate","createUserDocument","Swal","withReactContent","useAuth","Alert","MySwal","Form","page","setPage","formData","setFormData","email","password","name","LastName","birthDate","DNI","zone","riskFactor","doseAmountCovid","hasVaccineFlu","vaccinationDateFlu","hasYellowFever","doseYearYellowFever","turnCovid","turnFlu","turnYellowFever","user","setUser","key","FormTitles","PageDisplay","signup","error","setError","navigate","calculoDeEdad","BirthDate","hoy","Date","console","log","cumpleanios","edad","getFullYear","m","getMonth","getDate","calculoGripe","ultimaVacGripe","años","handleSubmit","e","preventDefault","boolCovid","boolFlu","alert","code","message","handleCreateUserAuth","fire","numero","Math","floor","random","currPage","length"],"sources":["C:/Users/leand/Desktop/Proyectos/Vacunassist/src/components/Form.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Register from \"./Register\";\r\nimport Cargar from \"./Cargar\";\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { createUserDocument } from \"../firebase\";\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { Alert } from \"./Alert\";\r\nconst MySwal = withReactContent(Swal);\r\nexport function Form() {\r\n  const [page, setPage] = useState(0);\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    LastName: \"\",\r\n    birthDate: \"\",\r\n    DNI: \"\",\r\n    zone: \"\",\r\n    riskFactor: \"\",\r\n    doseAmountCovid: \"\",\r\n    hasVaccineFlu: \"\",\r\n    vaccinationDateFlu: \"\",\r\n    hasYellowFever: \"\",\r\n    doseYearYellowFever: \"\",\r\n    turnCovid: \"\",\r\n    turnFlu: \"\",\r\n    turnYellowFever: \"\" \r\n  });\r\n  const [user, setUser] = useState({\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    birthDate: '',\r\n    LastName: '',\r\n    DNI: '',\r\n    key: '',\r\n    zone: '',\r\n    riskFactor: '',\r\n    doseAmountCovid: '',\r\n    hasVaccineFlu: '',\r\n    vaccinationDateFlu: '',\r\n    hasYellowFever: false,\r\n    doseYearYellowFever: '',\r\n    turnCovid: '',\r\n    turnFlu: '',\r\n    turnYellowFever: '' \r\n  });\r\n  const FormTitles = [\"Registro\", \"Datos importantes\"];\r\n  const PageDisplay = () => {\r\n    if (page === 0) {\r\n      return <Register user={user} setUser={setUser} formData={formData} setFormData={setFormData}/>;\r\n    } else {\r\n      return <Cargar user={user} setUser={setUser} formData={formData} setFormData={setFormData}/>;\r\n    }\r\n  };\r\n  const {signup}= useAuth();\r\n  const [error, setError] = useState();\r\n  const navigate = useNavigate()\r\n\r\n  function calculoDeEdad(BirthDate) {\r\n    let hoy = new Date();\r\n    console.log(hoy)\r\n    let cumpleanios = new Date(BirthDate);\r\n    console.log(BirthDate)\r\n    let edad = hoy.getFullYear() - cumpleanios.getFullYear();\r\n    let m = hoy.getMonth() - cumpleanios.getMonth();\r\n    if (m < 0 || (m === 0 && hoy.getDate() < cumpleanios.getDate())) { //aca no seria m==0 en vez de m===0 ???\r\n        edad--;\r\n    }\r\n    console.log(edad);\r\n    return edad;\r\n  }\r\n  function calculoGripe(vaccinationDateFlu){ //esta funcion es igual a la de calculo de edad pero weno\r\n    let hoy = new Date()\r\n    let ultimaVacGripe = new Date(vaccinationDateFlu)\r\n    let años= hoy.getFullYear() - ultimaVacGripe.getFullYear();\r\n    let m = hoy.getMonth() - ultimaVacGripe.getMonth();\r\n    if (m < 0 || (m === 0 && hoy.getDate() < ultimaVacGripe.getDate())) { //aca no seria m==0 en vez de m===0 ???\r\n        años--;\r\n    }\r\n    return años;\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n        await createUserDocument(user)\r\n        let boolCovid = false; \r\n        let boolFlu = false; \r\n        if((calculoDeEdad(user.birthDate) > 60)){ \r\n          if((user.doseAmountCovid < 2)){ \r\n            boolCovid = true; //AUTOMATICO, DE RIESGO = MAYOR DE 60, CON MENOS DE 2 DOSIS\r\n          } \r\n        }else{ \r\n          if(user.riskFactor === \"true\"){\r\n            if(user.doseAmountCovid < 2){\r\n              boolCovid = true; //AUTOMATICO, DE RIESGO = MENOR DE 60, PERO CON FACTORES DE RIESGO Y MENOS DE 2 DOSIS\r\n            }  \r\n          }else{\r\n            if(user.doseAmountCovid < 2){\r\n              boolCovid = true; //MANUAL, NO ES DE RIESGO = MENOR DE 60, MENOS DE 2 DOSIS\r\n            }\r\n          }\r\n        }   \r\n        //VACUNA GRIPE \r\n        if(user.hasVaccineFlu === \"false\"){ //MIRAR CASO DE SI TIENE +60 AÑOS, SIN VACUNA, Y CON VACUNA VENCIDA, ESTO EN FIREBASE.JS\r\n          boolFlu = true; //AUTOMATICO, NO TIENE VACUNA GRIPE\r\n        }else{\r\n          if(calculoGripe(user.vaccinationDateFlu)){ \r\n            boolFlu = true; //AUTOMATICO, TIENE VACUNA GRIPE VENCIDA\r\n          }\r\n        } \r\n        //AVISOS \r\n        if(boolCovid && boolFlu){ \r\n          alert(\"Se le asigno una vacuna para el covid y para la gripe\"); \r\n        }else if(boolCovid){ \r\n          alert(\"Se le asigno una vacuna para el covid\"); \r\n        }else if(boolFlu){ \r\n          alert(\"Se le asigno una vacuna para la gripe\"); \r\n        } \r\n        navigate('/') \r\n    } catch (error) {\r\n        if(error.code === \"auth/weak-password\"){\r\n            setError(\"Contraseña debil, deberia tener al menos 6 caracteres\")\r\n        }\r\n        setError(error.message);\r\n    }\r\n};\r\n\r\nconst handleCreateUserAuth = async () => {\r\n  setError('');\r\n  try {\r\n      if(user.DNI === \"000000\"){\r\n        MySwal.fire(`DNI INVALIDO`)\r\n        throw(error)\r\n      }\r\n      await signup(user.email, user.password);\r\n      let numero= Math.floor(Math.random()*10000);\r\n      while(numero < 1000 || numero > 10000){\r\n        numero= Math.floor(Math.random()*10000);\r\n      }\r\n      user.key= numero;\r\n      MySwal.fire(`Su codigo de validación es: ${user.key}, por favor, anotelo`); \r\n      setPage((currPage) => currPage + 1);\r\n  } catch (error) {\r\n      if(error.code === \"auth/weak-password\"){\r\n          setError(\"Contraseña debil, deberia tener al menos 6 caracteres\")\r\n      }\r\n      setError(error.message);\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className=\"form\">\r\n        {error && <Alert message={error}/>}\r\n        <form onSubmit={handleSubmit}>\r\n           <div className=\"form-container\">\r\n           <div className=\"header\">\r\n             <h1>{FormTitles[page]}</h1>\r\n           </div>\r\n           <div className=\"body\">{PageDisplay()}</div>\r\n           <div className=\"footer\">\r\n             <button\r\n               disabled={page === 0}\r\n               onClick={() => {\r\n                 setPage((currPage) => currPage - 1);\r\n               }}\r\n             >\r\n               {page === FormTitles.length - 1 ? \"Volver\" : \"\"}\r\n             </button>\r\n             <button\r\n               onClick={() => {\r\n                  if (page === FormTitles.length - 1) {\r\n                    console.log(user);\r\n                  } else {\r\n                    handleCreateUserAuth();\r\n                  };\r\n                }\r\n               }\r\n             >\r\n               {page === FormTitles.length - 1 ? \"Registrate\" : \"Próxima hoja\"}\r\n             </button>\r\n           </div>\r\n         </div>\r\n        </form>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}